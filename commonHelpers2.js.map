{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\n\nconst KEY = 'feedback-form-state';\n\nform.addEventListener('input', onFormInput);\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const { email, message } = e.currentTarget.elements;\n  if (!email.value.trim() || !message.value.trim())\n    return alert('You need to enter email and message!');\n  const userData = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  };\n  console.log(userData);\n\n  e.currentTarget.reset();\n  removeDataFromLocalStorage(KEY);\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  render();\n});\n\nfunction onFormInput(e) {\n  const { email, message } = e.currentTarget.elements;\n\n  const user = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  };\n\n  addDataToLocalStorage(KEY, user);\n}\n\nfunction addDataToLocalStorage(key, value) {\n  try {\n    const normalizeState = JSON.stringify(value);\n    localStorage.setItem(key, normalizeState);\n  } catch (error) {\n    console.log('set state ERROR', error.message);\n  }\n}\n\nfunction removeDataFromLocalStorage(key) {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('set state ERROR', error.message);\n  }\n}\n\nfunction getDataFromLocalStorage(key) {\n  try {\n    const normalizeState = localStorage.getItem(key);\n    return normalizeState === null ? undefined : JSON.parse(normalizeState);\n  } catch (error) {\n    console.log('set state ERROR', error.message);\n    return undefined;\n  }\n}\n\nfunction render() {\n  const data = getDataFromLocalStorage(KEY);\n  form.elements.email.value = data?.email || '';\n  form.elements.message.value = data?.message || '';\n}\n"],"names":["form","KEY","onFormInput","email","message","userData","removeDataFromLocalStorage","render","user","addDataToLocalStorage","key","value","normalizeState","error","getDataFromLocalStorage","data"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAM,sBAEZD,EAAK,iBAAiB,QAASE,CAAW,EAC1CF,EAAK,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAChB,KAAM,CAAE,MAAAG,EAAO,QAAAC,CAAO,EAAK,EAAE,cAAc,SAC3C,GAAI,CAACD,EAAM,MAAM,KAAM,GAAI,CAACC,EAAQ,MAAM,KAAM,EAC9C,OAAO,MAAM,sCAAsC,EACrD,MAAMC,EAAW,CACf,MAAOF,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACjC,EACE,QAAQ,IAAIC,CAAQ,EAEpB,EAAE,cAAc,QAChBC,EAA2BL,CAAG,CAChC,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAClDM,GACF,CAAC,EAED,SAASL,EAAY,EAAG,CACtB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAK,EAAE,cAAc,SAErCI,EAAO,CACX,MAAOL,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACjC,EAEEK,EAAsBR,EAAKO,CAAI,CACjC,CAEA,SAASC,EAAsBC,EAAKC,EAAO,CACzC,GAAI,CACF,MAAMC,EAAiB,KAAK,UAAUD,CAAK,EAC3C,aAAa,QAAQD,EAAKE,CAAc,CACzC,OAAQC,EAAO,CACd,QAAQ,IAAI,kBAAmBA,EAAM,OAAO,CAC7C,CACH,CAEA,SAASP,EAA2BI,EAAK,CACvC,GAAI,CACF,aAAa,WAAWA,CAAG,CAC5B,OAAQG,EAAO,CACd,QAAQ,IAAI,kBAAmBA,EAAM,OAAO,CAC7C,CACH,CAEA,SAASC,EAAwBJ,EAAK,CACpC,GAAI,CACF,MAAME,EAAiB,aAAa,QAAQF,CAAG,EAC/C,OAAOE,IAAmB,KAAO,OAAY,KAAK,MAAMA,CAAc,CACvE,OAAQC,EAAO,CACd,QAAQ,IAAI,kBAAmBA,EAAM,OAAO,EAC5C,MACD,CACH,CAEA,SAASN,GAAS,CAChB,MAAMQ,EAAOD,EAAwBb,CAAG,EACxCD,EAAK,SAAS,MAAM,OAAQe,GAAA,YAAAA,EAAM,QAAS,GAC3Cf,EAAK,SAAS,QAAQ,OAAQe,GAAA,YAAAA,EAAM,UAAW,EACjD"}